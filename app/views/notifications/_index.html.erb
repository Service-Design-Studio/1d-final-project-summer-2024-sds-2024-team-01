<div id="notificationpopup">
  <div class="d-flex mb-3 align-items-center">
    <h5 class="m-0 flex-grow-1">Notifications</h5>
    <form class="m-0" method="post" action="/notifications/clear" onsubmit="removeallnotifs(event)">
      <button type="submit" class="clear-all-btn">
        <i class="fas fa-trash-alt"></i> Clear all
      </button> 
    </form>
  </div>
  <% if @notifications.present? %>
    <% @notifications.each_with_index do |notif, index| %>
      <div id="notif-<%= index %>" class="notif-card">
        <a href="<%= notif.url %>" class="text-decoration-none text-white">
          <div class="d-flex justify-content-between align-items-start">
            <div>
              <b><%= notif.header %></b>
              <p class="mb-0 mt-1"><%= notif.message %></p>
            </div>
            <form class="button_to" method="post" action="/notifications/read?id=<%= notif.id %>" onsubmit="removenotif(event,<%= index %>)">
              <button class="close-btn" type="submit">
                <i class="fas fa-times"></i>
              </button>
            </form>
          </div>
        </a>
      </div>
    <% end %>
  <% else %>
    <div id="nonotifs" class="notif-card">
      No notifications
    </div>
  <% end %>
</div>