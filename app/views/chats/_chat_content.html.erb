<div class="chat-header d-flex align-items-center p-3 border-bottom">
  <% if @chat.request.thumbnail.attached? %>
    <img src="<%= url_for(@chat.request.thumbnail) %>" alt="<%= @chat.request.title %>" class="request-thumbnail mr-3" style="width: 50px; height: 50px;">
  <% end %>
  <div class="request-details">
    <h5 class="mb-0"><%= @chat.request.title %></h5>
  </div>
</div>

<div class="message-area flex-grow-1 d-flex flex-column">
  <% if @messages.any? %>
    <% @messages.each do |message| %>
      <div class="message <%= message.sender == current_user ? 'sent' : 'received' %>">
        <%= message.message_text %>
      </div>
    <% end %>
  <% else %>
    <p>No messages yet</p>
  <% end %>
</div>

<div class="input-area border-top p-3">
  <form id="message-form" action="<%= chat_messages_path(@chat) %>" method="post" data-remote="true">
    <%= hidden_field_tag :authenticity_token, form_authenticity_token %>
    <div class="input-group">
      <input type="text" name="message[message_text]" class="form-control" placeholder="Type a message...">
      <div class="input-group-append">
        <button class="btn btn-primary" type="submit">Send</button>
      </div>
    </div>
  </form>
</div>
