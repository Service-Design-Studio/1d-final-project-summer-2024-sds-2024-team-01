<div class="container content review-container">
  <div class="breadcrumb">
    <a href="/myrequests">My Requests</a> /
    Leave a Review
  </div>
  
  <h1 class="review-header">Review</h1>
  
  <%= form_with url: reviews_path, method: :post, local: true do |form| %>
    <div class="rating-container">
      <span class="rating-label">Rate the overall experience:</span>
      <div class="rating-stars">
        <i class="fas fa-star" data-rating="1"></i>
        <i class="fas fa-star" data-rating="2"></i>
        <i class="fas fa-star" data-rating="3"></i>
        <i class="fas fa-star" data-rating="4"></i>
        <i class="fas fa-star" data-rating="5"></i>
        <span class="rating-text">(0)</span>
      </div>
      <span class="dynamic-text">Leaving a review for Mike Sam - Need Help Delivering Dinner</span>
    </div>
    
    <%= form.text_area :review_content, class: "review-textarea", placeholder: "Share details of your own experience with them and any feedback you might have." %>
    
    <div class="submit-button-container">
      <%= form.submit "Submit", class: "btn custom-btn-lilac submit-review-button" %>
    </div>
  <% end %>
</div>

<script>
  document.addEventListener('DOMContentLoaded', function() {
    const stars = document.querySelectorAll('.rating-stars i');
    stars.forEach(star => {
      star.addEventListener('click', function() {
        const rating = this.getAttribute('data-rating');
        document.querySelector('.rating-text').textContent = `(${rating})`;
        stars.forEach(s => s.classList.remove('active'));
        for (let i = 0; i < rating; i++) {
          stars[i].classList.add('active');
        }
      });
    });
  });
</script>
